<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××” ×œ×œ×‘×•×© ×œ×‘×™×ª ×”×¡×¤×¨ ××—×¨? - ××–×›×¨×ª ×‘×ª×™×”</title>
    <style>
        :root {
            --primary: #4D96FF;
            --secondary: #FF6B6B;
            --accent: #FFD166;
            --background: #F8F9FA;
            --text: #343A40;
            --success: #6BCB77;
            --warning: #ff9800;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--background);
            color: var(--text);
            font-size: 18px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: var(--primary);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .mascot {
            max-width: 150px;
            margin: 10px auto;
            display: block;
        }
        
        .location-badge {
            background-color: white;
            color: var(--primary);
            padding: 8px 15px;
            border-radius: 20px;
            display: inline-block;
            margin-top: 10px;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .loading {
            text-align: center;
            margin: 40px 0;
            padding: 20px;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .loading img {
            width: 80px;
        }
        
        .result {
            display: none;
            background-color: white;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .weather-info {
            text-align: center;
            margin-bottom: 20px;
            padding: 15px;
            background-color: var(--accent);
            border-radius: 10px;
        }
        
        .important-reminder {
            background-color: #fdebd0;
            border: 2px solid #f39c12;
            border-radius: 10px;
            padding: 10px 15px;
            margin: 15px 0;
            text-align: center;
            font-weight: bold;
        }
        
        .clothing-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .clothing-section {
            background-color: #f0f7ff;
            padding: 15px;
            border-radius: 10px;
            border-top: 5px solid var(--primary);
        }
        
        .clothing-section h3 {
            color: var(--primary);
            margin-bottom: 10px;
            border-bottom: 2px dashed var(--primary);
            padding-bottom: 5px;
        }
        
        .clothing-list {
            list-style-type: none;
        }
        
        .clothing-list li {
            margin: 10px 0;
            padding-right: 30px;
            position: relative;
        }
        
        .clothing-list li::before {
            content: "ğŸ‘•";
            position: absolute;
            right: 0;
        }
        
        .clothing-list li.bottom::before {
            content: "ğŸ‘–";
        }
        
        .clothing-list li.accessory::before {
            content: "ğŸ§£";
        }
        
        .clothing-list li.school::before {
            content: "ğŸ’";
        }
        
        .clothing-list li.footwear::before {
            content: "ğŸ‘Ÿ";
        }
        
        .weather-specific {
            background-color: #ffefef;
            border-top-color: var(--secondary);
            margin-top: 20px;
        }
        
        .weather-specific h3 {
            color: var(--secondary);
            border-bottom-color: var(--secondary);
        }
        
        .error-message {
            display: none;
            background-color: #ffdddd;
            color: #d83030;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
        }
        
        .refresh-button {
            background-color: var(--success);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 12px 25px;
            font-size: 1.1rem;
            cursor: pointer;
            margin: 20px auto;
            display: block;
            transition: transform 0.2s, background-color 0.2s;
        }
        
        .refresh-button:hover {
            background-color: #56aa64;
            transform: scale(1.05);
        }
        
        .update-time {
            text-align: center;
            font-size: 0.9rem;
            color: #666;
            margin-top: 10px;
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            padding: 15px;
            color: #666;
            font-size: 0.9rem;
        }
        
        .emoji {
            font-size: 2rem;
            margin-left: 10px;
            vertical-align: middle;
        }
        
        /* ×¡×’× ×•×Ÿ ×œ××–×•×¨ ×©×™× ×•×™×™ ××–×’ ×”××•×•×™×¨ */
        .weather-changes {
            margin: 20px 0;
            border-radius: 12px;
            overflow: hidden;
            display: none; /* ××•×¡×ª×¨ ×›×‘×¨×™×¨×ª ××—×“×œ */
        }
        
        .weather-changes-header {
            background-color: var(--warning);
            color: white;
            padding: 12px 15px;
            font-weight: bold;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .weather-changes-list {
            background-color: #fff3e0;
            padding: 0;
            margin: 0;
            list-style-type: none;
        }
        
        .weather-changes-item {
            padding: 12px 15px;
            border-bottom: 1px solid #ffe0b2;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .weather-changes-item:last-child {
            border-bottom: none;
        }
        
        .weather-changes-icon {
            font-size: 1.5rem;
        }
        
        .weather-changes-time {
            font-weight: bold;
            margin-right: 10px;
            min-width: 70px;
        }
        
        .weather-changes-text {
            flex: 1;
        }
        
        .change-temperature-up {
            color: #e65100;
        }
        
        .change-temperature-down {
            color: #0277bd;
        }
        
        .change-rain-start {
            color: #0277bd;
        }
        
        .change-rain-end {
            color: #388e3c;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .clothing-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>××” ×œ×œ×‘×•×© ×œ×‘×™×ª ×”×¡×¤×¨ ××—×¨?</h1>
            <img src="https://cdn.pixabay.com/photo/2020/12/28/14/30/child-5867030_1280.png" alt="×“××•×ª ××¦×•×™×¨×ª" class="mascot" style="max-width:150px;">
            <p>×‘×•××• × ×¨××” ××™×–×” ×‘×’×“×™× ×›×“××™ ×œ×”×›×™×Ÿ ×œ×‘×™×ª ×”×¡×¤×¨ ××—×¨!</p>
            <div class="location-badge">
                <span class="emoji" style="font-size: 1.2rem;">ğŸ“</span> ××–×›×¨×ª ×‘×ª×™×”
            </div>
        </header>
        
        <div class="loading" id="loading">
            <img src="https://cdn.pixabay.com/photo/2017/09/25/13/14/emoji-2785528_1280.png" alt="×˜×•×¢×Ÿ..." style="max-width:80px;">
            <p>×‘×•×“×§ ××ª ××–×’ ×”××•×•×™×¨ ×œ××—×¨ ×‘××–×›×¨×ª ×‘×ª×™×”...</p>
        </div>
        
        <div class="error-message" id="error">
            ××•×¤×¡! ×œ× ×”×¦×œ×—×ª×™ ×œ×§×‘×œ ××ª ×ª×—×–×™×ª ××–×’ ×”××•×•×™×¨. × ×¡×” ×©×•×‘ ×××•×—×¨ ×™×•×ª×¨!
            <button class="refresh-button" onclick="window.location.reload()">× ×¡×” ×©×•×‘</button>
        </div>
        
        <div class="result" id="result">
            <div class="weather-info">
                <h2>××–×›×¨×ª ×‘×ª×™×”</h2>
                <p id="date">×™×•× ×¨×‘×™×¢×™, 27 ×¤×‘×¨×•××¨</p>
                <p>
                    <span id="weather-icon">â˜€ï¸</span>
                    <span id="weather-desc">×‘×”×™×¨</span>
                    <span id="temperature">22Â°C</span>
                </p>
            </div>
            
            <!-- ××–×•×¨ ×©×™× ×•×™×™ ××–×’ ××•×•×™×¨ -->
            <div class="weather-changes" id="weather-changes">
                <div class="weather-changes-header">
                    <span class="weather-changes-header-icon">âš ï¸</span>
                    <span>×©×™× ×•×™×™× ×—×©×•×‘×™× ×‘××–×’ ×”××•×•×™×¨ ××—×¨:</span>
                </div>
                <ul class="weather-changes-list" id="weather-changes-list">
                    <!-- ×”×ª×•×›×Ÿ ×™×•×›× ×¡ ×“×™× ××™×ª -->
                </ul>
            </div>
            
            <div id="weather-reminder" class="important-reminder" style="display:none">
                <span style="font-size:1.3rem;">ğŸ’§</span> ×–×›×¨×• ×œ×©×ª×•×ª ×”×¨×‘×” ××™× ××—×¨!
            </div>
            
            <div class="clothing-container">
                <div class="clothing-section">
                    <h3>×—×œ×§ ×¢×œ×™×•×Ÿ</h3>
                    <ul class="clothing-list" id="tops">
                        <li>×—×•×œ×¦×ª ×‘×™×ª ×¡×¤×¨ ×§×¦×¨×”</li>
                    </ul>
                </div>
                
                <div class="clothing-section">
                    <h3>×—×œ×§ ×ª×—×ª×•×Ÿ</h3>
                    <ul class="clothing-list" id="bottoms">
                        <li class="bottom">××›× ×¡×™×™× ××¨×•×›×™×</li>
                    </ul>
                </div>
                
                <div class="clothing-section">
                    <h3>××‘×™×–×¨×™× ×•×¤×¨×™×˜×™× × ×•×¡×¤×™×</h3>
                    <ul class="clothing-list" id="accessories">
                        <li class="accessory">×›×•×‘×¢ ×©××©</li>
                    </ul>
                </div>
                
                <div class="clothing-section">
                    <h3>×”× ×¢×œ×”</h3>
                    <ul class="clothing-list" id="footwear">
                        <li class="footwear">× ×¢×œ×™×™× ×¡×’×•×¨×•×ª</li>
                    </ul>
                </div>
                
                <div class="clothing-section">
                    <h3>×¦×™×•×“ ×œ×‘×™×ª ×¡×¤×¨</h3>
                    <ul class="clothing-list" id="school-items">
                        <li class="school">×ª×™×§ ×¢× ×¡×¤×¨×™× ×œ×¤×™ ××¢×¨×›×ª</li>
                        <li class="school">×‘×§×‘×•×§ ××™×</li>
                    </ul>
                </div>
            </div>
            
            <div class="clothing-section weather-specific" id="weather-specific-container">
                <h3 id="weather-specific-title">×‘×’×œ×œ ×©×™×”×™×” ×—×:</h3>
                <ul class="clothing-list" id="weather-specific-items">
                    <li>×§×¨× ×”×’× ×”</li>
                </ul>
            </div>
            
            <p class="update-time" id="update-time">×¢×•×“×›×Ÿ ×œ××—×¨×•× ×”: 26 ×¤×‘×¨×•××¨, 12:34</p>
            
            <button class="refresh-button" onclick="window.location.reload()">×¨×¢× ×Ÿ × ×ª×•× ×™×</button>
        </div>
        
        <footer>
            <p>× ×•×¦×¨ ×¢×‘×•×¨ ×™×œ×“×™ ×‘×™×ª ×”×¡×¤×¨ ×‘××–×›×¨×ª ×‘×ª×™×” ×©×¨×•×¦×™× ×œ×“×¢×ª ××” ×œ×œ×‘×•×© ××—×¨ ğŸ˜Š</p>
        </footer>
    </div>

    <script>
        // Weather icons mapping
        const weatherIcons = {
            'Clear': 'â˜€ï¸',
            'Clouds': 'â˜ï¸',
            'Rain': 'ğŸŒ§ï¸',
            'Drizzle': 'ğŸŒ¦ï¸',
            'Thunderstorm': 'â›ˆï¸',
            'Snow': 'â„ï¸',
            'Mist': 'ğŸŒ«ï¸',
            'Fog': 'ğŸŒ«ï¸'
        };
        
        // Hebrew translations for weather conditions
        const weatherTranslations = {
            'Clear': '×‘×”×™×¨',
            'Clouds': '××¢×•× ×Ÿ',
            'Rain': '×’×©×•×',
            'Drizzle': '×˜×¤×˜×•×£',
            'Thunderstorm': '×¡×•×¤×ª ×¨×¢××™×',
            'Snow': '×©×œ×’',
            'Mist': '×¢×¨×¤×œ ×§×œ',
            'Fog': '×¢×¨×¤×œ'
        };
        
        // Hebrew names for days of the week
        const daysHebrew = {
            'Monday': '×™×•× ×©× ×™',
            'Tuesday': '×™×•× ×©×œ×™×©×™',
            'Wednesday': '×™×•× ×¨×‘×™×¢×™',
            'Thursday': '×™×•× ×—××™×©×™',
            'Friday': '×™×•× ×©×™×©×™',
            'Saturday': '×©×‘×ª',
            'Sunday': '×™×•× ×¨××©×•×Ÿ'
        };
        
        // Hebrew names for months
        const monthsHebrew = {
            'January': '×™× ×•××¨',
            'February': '×¤×‘×¨×•××¨',
            'March': '××¨×¥',
            'April': '××¤×¨×™×œ',
            'May': '×××™',
            'June': '×™×•× ×™',
            'July': '×™×•×œ×™',
            'August': '××•×’×•×¡×˜',
            'September': '×¡×¤×˜××‘×¨',
            'October': '××•×§×˜×•×‘×¨',
            'November': '× ×•×‘××‘×¨',
            'December': '×“×¦××‘×¨'
        };
        
        // Clothing recommendations based on temperature ranges (adjusted for kids going to school)
        const clothingRules = {
            'very_cold': {  // Below 0Â°C
                'tops': [
                    '×—×•×œ×¦×ª ×‘×™×ª ×¡×¤×¨ ×¢× ×©×¨×•×•×œ ××¨×•×š',
                    '×¡×•×•×“×¨ ×—×',
                    '××¢×™×œ ×—×•×¨×£ ×¢×‘×”'
                ],
                'bottoms': [
                    '××›× ×¡×™×™× ××¨×•×›×™× ×¢×‘×™×',
                    '×˜×™×™×¥ ×ª×¨××™ ××ª×—×ª ×œ××›× ×¡×™×™×'
                ],
                'accessories': [
                    '×›×¤×¤×•×ª ×—××•×ª'
                ],
                'footwear': [
                    '× ×¢×œ×™×™× ×¡×’×•×¨×•×ª ×¢× ×’×¨×‘×™×™× ×¢×‘×•×ª'
                ],
                'school_items': [
                    '×ª×™×§ ×¢× ×¡×¤×¨×™× ×œ×¤×™ ××¢×¨×›×ª',
                    '×‘×§×‘×•×§ ××™×',
                    '×§×œ××¨ ×¢× ×›×œ ×”×¦×™×•×“'
                ]
            },
            'cold': {  // 0-10Â°C
                'tops': [
                    '×—×•×œ×¦×ª ×‘×™×ª ×¡×¤×¨ ×¢× ×©×¨×•×•×œ ××¨×•×š',
                    '×¡×•×•×“×¨',
                    '××¢×™×œ ×—×•×¨×£'
                ],
                'bottoms': [
                    '××›× ×¡×™×™× ××¨×•×›×™×'
                ],
                'accessories': [],
                'footwear': [
                    '× ×¢×œ×™×™× ×¡×’×•×¨×•×ª'
                ],
                'school_items': [
                    '×ª×™×§ ×¢× ×¡×¤×¨×™× ×œ×¤×™ ××¢×¨×›×ª',
                    '×‘×§×‘×•×§ ××™×',
                    '×§×œ××¨ ×¢× ×›×œ ×”×¦×™×•×“'
                ]
            },
            'cool': {  // 10-18Â°C
                'tops': [
                    '×—×•×œ×¦×ª ×‘×™×ª ×¡×¤×¨ ×¢× ×©×¨×•×•×œ ××¨×•×š',
                    '×¡×•×•×˜×©×™×¨×˜ ××• ×§×¤×•×¦×³×•×Ÿ ×§×œ'
                ],
                'bottoms': [
                    '××›× ×¡×™×™× ××¨×•×›×™×'
                ],
                'accessories': [],
                'footwear': [
                    '× ×¢×œ×™×™× ×¡×’×•×¨×•×ª'
                ],
                'school_items': [
                    '×ª×™×§ ×¢× ×¡×¤×¨×™× ×œ×¤×™ ××¢×¨×›×ª',
                    '×‘×§×‘×•×§ ××™×',
                    '×§×œ××¨ ×¢× ×›×œ ×”×¦×™×•×“'
                ]
            },
            'mild': {  // 18-24Â°C
                'tops': [
                    '×—×•×œ×¦×ª ×‘×™×ª ×¡×¤×¨ ×§×¦×¨×”',
                    '×§×¤×•×¦×³×•×Ÿ ××• ×¡×•×•×˜×©×™×¨×˜ ×“×§ (×œ××§×¨×” ×©×™×”×™×” ×§×¨×™×¨)'
                ],
                'bottoms': [
                    '××›× ×¡×™×™× ××¨×•×›×™× ×§×œ×™×',
                    '×—×¦××™×ª ×¢× ×˜×™×™×¥ (×œ×‘× ×•×ª)'
                ],
                'accessories': [],
                'footwear': [
                    '× ×¢×œ×™×™× ×¡×’×•×¨×•×ª'
                ],
                'school_items': [
                    '×ª×™×§ ×¢× ×¡×¤×¨×™× ×œ×¤×™ ××¢×¨×›×ª',
                    '×‘×§×‘×•×§ ××™×',
                    '×§×œ××¨ ×¢× ×›×œ ×”×¦×™×•×“'
                ]
            },
            'warm': {  // 24-29Â°C
                'tops': [
                    '×—×•×œ×¦×ª ×‘×™×ª ×¡×¤×¨ ×§×¦×¨×”'
                ],
                'bottoms': [
                    '××›× ×¡×™×™× ×§×¦×¨×™× (×× ××•×ª×¨ ×‘×‘×™×ª ×”×¡×¤×¨)',
                    '××›× ×¡×™×™× ××¨×•×›×™× ×§×œ×™×',
                    '×—×¦××™×ª (×œ×‘× ×•×ª, ×× ××•×ª×¨ ×‘×‘×™×ª ×”×¡×¤×¨)'
                ],
                'accessories': [
                    '×›×•×‘×¢ ×©××©'
                ],
                'footwear': [
                    '× ×¢×œ×™×™× ×¡×’×•×¨×•×ª'
                ],
                'school_items': [
                    '×ª×™×§ ×¢× ×¡×¤×¨×™× ×œ×¤×™ ××¢×¨×›×ª',
                    '×‘×§×‘×•×§ ××™× ×’×“×•×œ',
                    '×§×œ××¨ ×¢× ×›×œ ×”×¦×™×•×“'
                ]
            },
            'hot': {  // Above 29Â°C
                'tops': [
                    '×—×•×œ×¦×ª ×‘×™×ª ×¡×¤×¨ ×§×¦×¨×” ×•×§×œ×”'
                ],
                'bottoms': [
                    '××›× ×¡×™×™× ×§×¦×¨×™× (×× ××•×ª×¨ ×‘×‘×™×ª ×”×¡×¤×¨)',
                    '××›× ×¡×™×™× ××¨×•×›×™× ×§×œ×™× ×××•×“',
                    '×—×¦××™×ª (×œ×‘× ×•×ª, ×× ××•×ª×¨ ×‘×‘×™×ª ×”×¡×¤×¨)'
                ],
                'accessories': [
                    '×›×•×‘×¢ ×©××©'
                ],
                'footwear': [
                    '×¡× ×“×œ×™× - ×©×™×/×™ ×œ×‘ ×œ×‘×“×•×§ ×©××™×Ÿ ×©×™×¢×•×¨ ×¡×¤×•×¨×˜ ××—×¨!'
                ],
                'school_items': [
                    '×ª×™×§ ×¢× ×¡×¤×¨×™× ×œ×¤×™ ××¢×¨×›×ª',
                    '×‘×§×‘×•×§ ××™× ×’×“×•×œ (×œ×¤×—×•×ª ×œ×™×˜×¨)',
                    '×§×œ××¨ ×¢× ×›×œ ×”×¦×™×•×“'
                ]
            }
        };
        
        // Weather condition specific recommendations for kids
        const weatherConditionItems = {
            'Rain': {
                'title': '×‘×’×œ×œ ×©×™×”×™×” ×’×©×•×:',
                'items': [
                    '××˜×¨×™×”',
                    '××¢×™×œ ×¢××™×“ ×œ××™×',
                    '×©×§×™×ª × ×™×™×œ×•×Ÿ ×œ×ª×™×§ (×›×“×™ ×©×”×¡×¤×¨×™× ×œ× ×™×™×¨×˜×‘×•)'
                ]
            },
            'Drizzle': {
                'title': '×‘×’×œ×œ ×©×™×”×™×” ×˜×¤×˜×•×£:',
                'items': [
                    '××˜×¨×™×” ×§×˜× ×”',
                    '××¢×™×œ ×¢××™×“ ×œ××™×'
                ]
            },
            'Thunderstorm': {
                'title': '×‘×’×œ×œ ×©×ª×”×™×” ×¡×•×¤×ª ×¨×¢××™×:',
                'items': [
                    '××˜×¨×™×” ×—×–×§×”',
                    '××¢×™×œ ×¢××™×“ ×œ××™×',
                    '×©×§×™×ª × ×™×™×œ×•×Ÿ ×œ×ª×™×§ (×›×“×™ ×©×”×¡×¤×¨×™× ×œ× ×™×™×¨×˜×‘×•)'
                ]
            },
            'Snow': {
                'title': '×‘×’×œ×œ ×©×™×”×™×” ×©×œ×’:',
                'items': [
                    '×›×¤×¤×•×ª ×—××•×ª',
                    '×©×§×™×ª × ×™×™×œ×•×Ÿ ×œ×ª×™×§ (×›×“×™ ×©×”×¡×¤×¨×™× ×œ× ×™×™×¨×˜×‘×•)'
                ]
            },
            'Mist': {
                'title': '×‘×’×œ×œ ×©×™×”×™×” ×¢×¨×¤×œ:',
                'items': [
                    '×‘×’×“×™× ×‘×¦×‘×¢×™× ×‘×”×™×¨×™× (×›×“×™ ×©×™×¨××• ××•×ª×š ×˜×•×‘)',
                    '××¢×™×œ ×§×œ'
                ]
            },
            'Fog': {
                'title': '×‘×’×œ×œ ×©×™×”×™×” ×¢×¨×¤×œ ×¡××™×š:',
                'items': [
                    '×‘×’×“×™× ×‘×¦×‘×¢×™× ×‘×”×™×¨×™× (×›×“×™ ×©×™×¨××• ××•×ª×š ×˜×•×‘)',
                    '×¤× ×¡ ×§×˜×Ÿ (×× ×™×•×¦××™× ××•×§×“× ×‘×‘×•×§×¨)'
                ]
            },
            'Clear': {
                'title': '×‘×’×œ×œ ×©×™×”×™×” ×™×•× ×©××©:',
                'items': [
                    '×§×¨× ×”×’× ×”',
                    '××©×§×¤×™ ×©××©'
                ]
            }
        };
        
        // OpenWeatherMap API key - ×”×›× ×¡ ××ª ×”××¤×ª×— ×©×œ×š ×›××Ÿ
        const apiKey = "64319aab490fe096e4759d3f342c1d2e";
        
        // ×©×™××•×© ×‘×©× ××©×ª× ×” ×©×•× ×” ×-location (×©×”×•× ××•×‘× ×” ×‘×“×¤×“×¤×Ÿ)
        const cityLocation = "Mazkeret Batya,IL";
        
        // DOM elements
        const loadingElement = document.getElementById('loading');
        const resultElement = document.getElementById('result');
        const errorElement = document.getElementById('error');
        const dateElement = document.getElementById('date');
        const weatherIconElement = document.getElementById('weather-icon');
        const weatherDescElement = document.getElementById('weather-desc');
        const temperatureElement = document.getElementById('temperature');
        const topsElement = document.getElementById('tops');
        const bottomsElement = document.getElementById('bottoms');
        const accessoriesElement = document.getElementById('accessories');
        const footwearElement = document.getElementById('footwear');
        const schoolItemsElement = document.getElementById('school-items');
        const weatherSpecificContainer = document.getElementById('weather-specific-container');
        const weatherSpecificTitle = document.getElementById('weather-specific-title');
        const weatherSpecificItems = document.getElementById('weather-specific-items');
        const updateTimeElement = document.getElementById('update-time');
        const weatherReminderElement = document.getElementById('weather-reminder');
        const weatherChangesContainer = document.getElementById('weather-changes');
        const weatherChangesList = document.getElementById('weather-changes-list');
        
        // Load weather data when page loads
        document.addEventListener('DOMContentLoaded', function() {
            getWeatherForecast();
        });
        
        // ×¤×•× ×§×¦×™×” ×©××—×–×™×¨×” ×ª×•×•×™×ª ×–××Ÿ ×™×“×™×“×•×ª×™×ª ×‘×¢×‘×¨×™×ª
        function getTimeLabel(hour) {
            if (hour >= 7 && hour <= 9) {
                return "×‘×‘×•×§×¨";
            } else if (hour >= 10 && hour <= 12) {
                return "×œ×¤× ×™ ×”×¦×”×¨×™×™×";
            } else if (hour >= 13 && hour <= 14) {
                return "×‘×¦×”×¨×™×™×";
            } else if (hour >= 15 && hour <= 18) {
                return "××—×”×´×¦";
            } else {
                return "×‘×¢×¨×‘";
            }
        }
        
        // ×¤×•× ×§×¦×™×” ×©××–×”×” ×©×™× ×•×™×™× ××©××¢×•×ª×™×™× ×‘××–×’ ×”××•×•×™×¨
        function detectWeatherChanges(forecasts) {
            // ××¡× ×Ÿ ×¨×§ ××ª ×”×ª×—×–×™×•×ª ×œ×©×¢×•×ª ×‘×™×ª ×”×¡×¤×¨ (8:00-16:00)
            const schoolHoursForecasts = forecasts.filter(forecast => {
                const hour = new Date(forecast.dt * 1000).getHours();
                return hour >= 8 && hour <= 16;
            });
            
            // ×× ××™×Ÿ ××¡×¤×™×§ × ×ª×•× ×™×, ××—×–×™×¨ ×¨×©×™××” ×¨×™×§×”
            if (schoolHoursForecasts.length < 2) {
                return [];
            }
            
            const changes = [];
            
            // ×‘×“×™×§×ª ×©×™× ×•×™×™ ×˜××¤×¨×˜×•×¨×” ××©××¢×•×ª×™×™×
            for (let i = 1; i < schoolHoursForecasts.length; i++) {
                const prevForecast = schoolHoursForecasts[i-1];
                const currentForecast = schoolHoursForecasts[i];
                
                const prevTemp = prevForecast.main.temp;
                const currentTemp = currentForecast.main.temp;
                const tempDiff = currentTemp - prevTemp;
                
                const currentHour = new Date(currentForecast.dt * 1000).getHours();
                
                // ×–×™×”×•×™ ×©×™× ×•×™ ×˜××¤×¨×˜×•×¨×” ××©××¢×•×ª×™ (××¢×œ 5 ××¢×œ×•×ª)
                if (Math.abs(tempDiff) >= 5) {
                    const timeLabel = getTimeLabel(currentHour);
                    
                    if (tempDiff > 0) {
                        changes.push({
                            type: 'temperature-up',
                            icon: 'ğŸŒ¡ï¸',
                            time: timeLabel,
                            text: `×™×ª×—×× ××©××¢×•×ª×™×ª - ×¢×“ ${Math.round(currentTemp)}Â°C`,
                            class: 'change-temperature-up'
                        });
                    } else {
                        changes.push({
                            type: 'temperature-down',
                            icon: 'ğŸŒ¡ï¸',
                            time: timeLabel,
                            text: `×™×ª×§×¨×¨ ××©××¢×•×ª×™×ª - ×¢×“ ${Math.round(currentTemp)}Â°C`,
                            class: 'change-temperature-down'
                        });
                    }
                }
                
                // ×–×™×”×•×™ ×ª×—×™×œ×ª ××• ×¡×™×•× ×’×©×
                const prevWeather = prevForecast.weather[0].main;
                const currentWeather = currentForecast.weather[0].main;
                
                const isRainyWeather = weather => ['Rain', 'Drizzle', 'Thunderstorm'].includes(weather);
                
                if (!isRainyWeather(prevWeather) && isRainyWeather(currentWeather)) {
                    changes.push({
                        type: 'rain-start',
                        icon: 'ğŸŒ§ï¸',
                        time: getTimeLabel(currentHour),
                        text: `×¦×¤×•×™ ×œ×”×ª×—×™×œ ×’×©× ×‘×¡×‘×™×‘×•×ª ×”×©×¢×” ${currentHour}:00`,
                        class: 'change-rain-start'
                    });
                } else if (isRainyWeather(prevWeather) && !isRainyWeather(currentWeather)) {
                    changes.push({
                        type: 'rain-end',
                        icon: 'ğŸŒ¦ï¸',
                        time: getTimeLabel(currentHour),
                        text: `×”×’×©× ×¦×¤×•×™ ×œ×”×™×¤×¡×§ ×‘×¡×‘×™×‘×•×ª ×”×©×¢×” ${currentHour}:00`,
                        class: 'change-rain-end'
                    });
                }
                
                // ×–×™×”×•×™ ×ª×—×™×œ×ª ×©×œ×’
                if (prevWeather !== 'Snow' && currentWeather === 'Snow') {
                    changes.push({
                        type: 'snow-start',
                        icon: 'â„ï¸',
                        time: getTimeLabel(currentHour),
                        text: `×¦×¤×•×™ ×œ×”×ª×—×™×œ ×©×œ×’ ×‘×¡×‘×™×‘×•×ª ×”×©×¢×” ${currentHour}:00`,
                        class: 'change-rain-start'
                    });
                }
            }
            
            return changes;
        }
        
        function getWeatherForecast() {
            const baseUrl = "https://api.openweathermap.org/data/2.5/forecast";
            const url = `${baseUrl}?q=${cityLocation}&appid=${apiKey}&units=metric&cnt=16`; // × ×©× ×” ×œ-16 ×›×“×™ ×œ×§×‘×œ ×™×•×ª×¨ × ×ª×•× ×™× ×©×¢×ª×™×™×
            
            // Show loading, hide results and error
            loadingElement.style.display = 'block';
            resultElement.style.display = 'none';
            errorElement.style.display = 'none';
            
            fetch(url)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    // ×—×™×œ×•×¥ ×”×ª×—×–×™×ª ×œ××—×¨
                    const tomorrow = new Date();
                    tomorrow.setDate(tomorrow.getDate() + 1);
                    const tomorrowStr = tomorrow.toISOString().split('T')[0];
                    
                    // ×¡×™× ×•×Ÿ ×”×ª×—×–×™×•×ª ×¨×§ ×œ×’×‘×™ ××—×¨
                    const tomorrowForecasts = data.list.filter(item => 
                        item.dt_txt.startsWith(tomorrowStr)
                    );
                    
                    // ×”×ª×—×–×™×ª ×”×¨××©×•× ×” ×”×™× ×”×‘×¡×™×¡ ×œ×”××œ×¦×•×ª ×”×œ×‘×•×©
                    const mainForecast = tomorrowForecasts.length > 0 ? tomorrowForecasts[0] : data.list[0];
                    
                    // ×™×¦×™×¨×ª ××•×‘×™×™×§×˜ ××™×“×¢ ×¢×œ ×”×ª×—×–×™×ª
                    const weatherInfo = {
                        avgTemp: mainForecast.main.temp,
                        minTemp: mainForecast.main.temp_min,
                        maxTemp: mainForecast.main.temp_max,
                        condition: mainForecast.weather[0].main,
                        description: mainForecast.weather[0].description,
                        tomorrow: tomorrow
                    };
                    
                    // ×”×¦×’×ª ×”×ª×•×¦××•×ª
                    displayResults(data.city, weatherInfo, tomorrowForecasts);
                })
                .catch(error => {
                    console.error('Error:', error);
                    loadingElement.style.display = 'none';
                    errorElement.style.display = 'block';
                });
        }
        
        function parseTomorrowWeather(forecastData) {
            if (!forecastData || !forecastData.list || forecastData.list.length === 0) {
                throw new Error('Invalid forecast data');
            }
            
            // Get tomorrow's date
            const today = new Date();
            const tomorrow = new Date(today);
            tomorrow.setDate(tomorrow.getDate() + 1);
            const tomorrowDateStr = tomorrow.toISOString().split('T')[0];
            
            // Filter forecasts for tomorrow
            const tomorrowForecasts = forecastData.list.filter(item => 
                item.dt_txt.startsWith(tomorrowDateStr)
            );
            
            if (tomorrowForecasts.length === 0) {
                throw new Error('No forecast data available for tomorrow');
            }
            
            // Calculate average temperature
            const avgTemp = tomorrowForecasts.reduce((sum, item) => 
                sum + item.main.temp, 0) / tomorrowForecasts.length;
            
            // Find min and max temperatures
            const minTemp = Math.min(...tomorrowForecasts.map(item => item.main.temp_min));
            const maxTemp = Math.max(...tomorrowForecasts.map(item => item.main.temp_max));
            
            // Determine weather condition (prioritize rain, snow, etc.)
            const weatherPriorities = {
                'Thunderstorm': 1,
                'Snow': 2,
                'Rain': 3,
                'Drizzle': 4,
                'Mist': 5,
                'Fog': 6,
                'Clouds': 7,
                'Clear': 8
            };
            
            let mainCondition = 'Clear';
            let mainDescription = '';
            let highestPriority = 10;
            
            for (const forecast of tomorrowForecasts) {
                const weather = forecast.weather[0];
                const priority = weatherPriorities[weather.main] || 9;
                
                if (priority < highestPriority) {
                    highestPriority = priority;
                    mainCondition = weather.main;
                    mainDescription = weather.description;
                }
            }
            
            return {
                avgTemp: avgTemp,
                minTemp: minTemp,
                maxTemp: maxTemp,
                condition: mainCondition,
                description: mainDescription,
                tomorrow: tomorrow
            };
        }
        
        function getTemperatureCategory(temp) {
            if (temp < 0) return 'very_cold';
            if (temp < 10) return 'cold';
            if (temp < 18) return 'cool';
            if (temp < 24) return 'mild';
            if (temp < 29) return 'warm';
            return 'hot';
        }
        
        function displayResults(cityInfo, weatherInfo, hourlyForecasts) {
            // Format the date in Hebrew
            const tomorrow = weatherInfo.tomorrow;
            const dayName = daysHebrew[tomorrow.toLocaleDateString('en-US', { weekday: 'long' })];
            const monthName = monthsHebrew[tomorrow.toLocaleDateString('en-US', { month: 'long' })];
            const dateNum = tomorrow.getDate();
            const formattedDate = `${dayName}, ${dateNum} ${monthName}`;
            
            // Get the weather icon and translation
            const weatherIcon = weatherIcons[weatherInfo.condition] || 'ğŸŒ¦ï¸';
            const weatherDesc = weatherTranslations[weatherInfo.condition] || weatherInfo.condition;
            
            // Round the temperature
            const temp = Math.round(weatherInfo.avgTemp);
            
            // Get clothing recommendations based on temperature
            const tempCategory = getTemperatureCategory(temp);
            const clothing = JSON.parse(JSON.stringify(clothingRules[tempCategory])); // Deep copy to avoid modifying the original
            
            // Weather-specific recommendations
            const weatherSpecific = weatherConditionItems[weatherInfo.condition] || null;
            
            // Override footwear recommendation based on weather condition
            if (['Rain', 'Thunderstorm', 'Drizzle'].includes(weatherInfo.condition)) {
                clothing.footwear = ['××’×¤×™×™× - ×©×™×/×™ ×œ×‘ ×œ×‘×“×•×§ ×©××™×Ÿ ×©×™×¢×•×¨ ×¡×¤×•×¨×˜ ××—×¨!'];
            } else if (weatherInfo.condition === 'Snow') {
                clothing.footwear = ['××’×¤×™×™× ×—××™× - ×©×™×/×™ ×œ×‘ ×œ×‘×“×•×§ ×©××™×Ÿ ×©×™×¢×•×¨ ×¡×¤×•×¨×˜ ××—×¨!'];
            } else if (temp >= 29) { // Hot weather
                clothing.footwear = ['×¡× ×“×œ×™× - ×©×™×/×™ ×œ×‘ ×œ×‘×“×•×§ ×©××™×Ÿ ×©×™×¢×•×¨ ×¡×¤×•×¨×˜ ××—×¨!'];
            }
            
            // Show water reminder for hot days
            if (temp >= 25) {
                weatherReminderElement.style.display = 'block';
            } else {
                weatherReminderElement.style.display = 'none';
            }
            
            // ×–×™×”×•×™ ×•×”×¦×’×ª ×©×™× ×•×™×™ ××–×’ ××•×•×™×¨
            const weatherChanges = detectWeatherChanges(hourlyForecasts);
            
            if (weatherChanges.length > 0) {
                // ×™×© ×©×™× ×•×™×™× ××©××¢×•×ª×™×™× - × ×¦×™×’ ××•×ª×
                weatherChangesList.innerHTML = '';
                
                weatherChanges.forEach(change => {
                    const listItem = document.createElement('li');
                    listItem.className = 'weather-changes-item';
                    
                    const iconSpan = document.createElement('span');
                    iconSpan.className = 'weather-changes-icon';
                    iconSpan.textContent = change.icon;
                    
                    const timeSpan = document.createElement('span');
                    timeSpan.className = 'weather-changes-time';
                    timeSpan.textContent = change.time + ':';
                    
                    const textSpan = document.createElement('span');
                    textSpan.className = `weather-changes-text ${change.class}`;
                    textSpan.textContent = change.text;
                    
                    listItem.appendChild(iconSpan);
                    listItem.appendChild(timeSpan);
                    listItem.appendChild(textSpan);
                    
                    weatherChangesList.appendChild(listItem);
                });
                
                weatherChangesContainer.style.display = 'block';
            } else {
                // ××™×Ÿ ×©×™× ×•×™×™× ××©××¢×•×ª×™×™× - × ×¡×ª×™×¨ ××ª ×”××–×•×¨
                weatherChangesContainer.style.display = 'none';
            }
            
            // Update the DOM
            dateElement.textContent = formattedDate;
            weatherIconElement.textContent = weatherIcon;
            weatherDescElement.textContent = weatherDesc;
            temperatureElement.textContent = `${temp}Â°C`;
            
            // Update clothing lists
            updateList(topsElement, clothing.tops);
            updateList(bottomsElement, clothing.bottoms, 'bottom');
            updateList(accessoriesElement, clothing.accessories, 'accessory');
            updateList(footwearElement, clothing.footwear, 'footwear');
            updateList(schoolItemsElement, clothing.school_items, 'school');
            
            // Update weather-specific items if available
            if (weatherSpecific) {
                weatherSpecificTitle.textContent = weatherSpecific.title;
                updateList(weatherSpecificItems, weatherSpecific.items);
                weatherSpecificContainer.style.display = 'block';
            } else {
                weatherSpecificContainer.style.display = 'none';
            }
            
            // Update last updated time
            const now = new Date();
            const day = now.getDate();
            const month = monthsHebrew[now.toLocaleDateString('en-US', { month: 'long' })];
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            updateTimeElement.textContent = `×¢×•×“×›×Ÿ ×œ××—×¨×•× ×”: ${day} ${month}, ${hours}:${minutes}`;
            
            // Hide loading, show results
            loadingElement.style.display = 'none';
            resultElement.style.display = 'block';
        }
        
        function updateList(element, items, className = '') {
            // Clear existing items
            element.innerHTML = '';
            
            // Add new items
            items.forEach(item => {
                const li = document.createElement('li');
                if (className) {
                    li.className = className;
                }
                li.textContent = item;
                element.appendChild(li);
            });
        }
    </script>
</body>
</html>
